const express = require('express');
const next = require('next');

const dev = process.env.NODE_ENV !== 'production';
const app = next({ dev });
const handle = app.getRequestHandler();

app.prepare().then(() => {
	const port = 4000;
	const server = express();

	server.get('*', (req, res) => {
		return handle(req, res);
	});
	server.listen(port, err => {
		if (err) throw err;
		console.log(`> Ready on http://localhost:${port}`);
	});
}).catch(ex => {
	console.error(ex.stack);
	process.exit(1);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIm5leHQiLCJkZXYiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJhcHAiLCJoYW5kbGUiLCJnZXRSZXF1ZXN0SGFuZGxlciIsInByZXBhcmUiLCJ0aGVuIiwicG9ydCIsInNlcnZlciIsImdldCIsInJlcSIsInJlcyIsImxpc3RlbiIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImV4IiwiZXJyb3IiLCJzdGFjayIsImV4aXQiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFVBQVVDLFFBQVEsU0FBUixDQUFoQjtBQUNBLE1BQU1DLE9BQU9ELFFBQVEsTUFBUixDQUFiOztBQUVBLE1BQU1FLE1BQU1DLFFBQVFDLEdBQVIsQ0FBWUMsUUFBWixLQUF5QixZQUFyQztBQUNBLE1BQU1DLE1BQU1MLEtBQUssRUFBRUMsR0FBRixFQUFMLENBQVo7QUFDQSxNQUFNSyxTQUFTRCxJQUFJRSxpQkFBSixFQUFmOztBQUVBRixJQUNFRyxPQURGLEdBRUVDLElBRkYsQ0FFTyxNQUFNO0FBQ1gsT0FBTUMsT0FBTyxJQUFiO0FBQ0EsT0FBTUMsU0FBU2IsU0FBZjs7QUFFQWEsUUFBT0MsR0FBUCxDQUFXLEdBQVgsRUFBZ0IsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDN0IsU0FBT1IsT0FBT08sR0FBUCxFQUFZQyxHQUFaLENBQVA7QUFDQSxFQUZEO0FBR0FILFFBQU9JLE1BQVAsQ0FBY0wsSUFBZCxFQUFvQk0sT0FBTztBQUMxQixNQUFJQSxHQUFKLEVBQVMsTUFBTUEsR0FBTjtBQUNUQyxVQUFRQyxHQUFSLENBQWEsK0JBQThCUixJQUFLLEVBQWhEO0FBQ0EsRUFIRDtBQUlBLENBYkYsRUFjRVMsS0FkRixDQWNRQyxNQUFNO0FBQ1pILFNBQVFJLEtBQVIsQ0FBY0QsR0FBR0UsS0FBakI7QUFDQXBCLFNBQVFxQixJQUFSLENBQWEsQ0FBYjtBQUNBLENBakJGIiwiZmlsZSI6InNlcnZlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJylcbmNvbnN0IG5leHQgPSByZXF1aXJlKCduZXh0JylcblxuY29uc3QgZGV2ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJ1xuY29uc3QgYXBwID0gbmV4dCh7IGRldiB9KVxuY29uc3QgaGFuZGxlID0gYXBwLmdldFJlcXVlc3RIYW5kbGVyKClcblxuYXBwXG5cdC5wcmVwYXJlKClcblx0LnRoZW4oKCkgPT4ge1xuXHRcdGNvbnN0IHBvcnQgPSA0MDAwXG5cdFx0Y29uc3Qgc2VydmVyID0gZXhwcmVzcygpXG5cblx0XHRzZXJ2ZXIuZ2V0KCcqJywgKHJlcSwgcmVzKSA9PiB7XG5cdFx0XHRyZXR1cm4gaGFuZGxlKHJlcSwgcmVzKVxuXHRcdH0pXG5cdFx0c2VydmVyLmxpc3Rlbihwb3J0LCBlcnIgPT4ge1xuXHRcdFx0aWYgKGVycikgdGhyb3cgZXJyXG5cdFx0XHRjb25zb2xlLmxvZyhgPiBSZWFkeSBvbiBodHRwOi8vbG9jYWxob3N0OiR7cG9ydH1gKVxuXHRcdH0pXG5cdH0pXG5cdC5jYXRjaChleCA9PiB7XG5cdFx0Y29uc29sZS5lcnJvcihleC5zdGFjaylcblx0XHRwcm9jZXNzLmV4aXQoMSlcblx0fSlcbiJdfQ==